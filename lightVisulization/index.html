<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    
    <!-- Cesium -->
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.80/Build/Cesium/Cesium.js"></script>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.80/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    
    <!-- Tailwind CSS-->
    <script src="https://cdn.tailwindcss.com"></script>

    <style type="text/css">
        body{
            height:100%;
        }
        #cesiumContainer{
            width: 100%;
            height: 100%;
        }
    </style>
 
    
</head>

<body>
    <div id="cesiumContainer"></div>
    <div class="absolute top-0 left-0 mt-8 bg-black/50 p-4 w-1/3">
        <div class="form text-white text-lg">
            <h2 class="text-2xl text-center">Điều chỉnh tham số</h2>
            <!-- Cone Direct-->
            <div class="grid grid-cols-2 mt-4 gap-2">
                <div class="col-span-1">
                    <div class="grid grid-cols-3 gap-2">
                        <div class="col-span-2">
                            Minimum Cone
                        </div>
                        <div class="col-span-1">
                            <input type="text" class="w-3/4 rounded-lg text-black text-center focus:ring-0 outline-0" id="minimumCone" value="0" onchange="updateValue(this.value,'minimumCone')"> 
                        </div>
                    </div>
                    <div class="w-full mt-2 pr-4">
                        <input type="range" class="w-full" name="rangeInput" min="0" max="360" value="0" id="inputMinimumCone" onchange="updateValue(this.value,'minimumCone')">
                    </div>
                </div>
                <div class="col-span-1">
                    <div class="grid grid-cols-3 gap-2">
                        <div class="col-span-2">
                            Cone Range
                        </div>
                        <div class="col-span-1">
                            <input type="text" class="w-3/4 rounded-lg text-black text-center focus:ring-0 outline-0" id="coneRange" value="0" onchange="updateValue(this.value,'coneRange')"> 
                        </div>
                    </div>
                    <div class="w-full mt-2 pr-4">
                        <input type="range"class="w-full" name="rangeInput" min="0" max="360" value="0" id="inputConeRange" onchange="updateValue(this.value,'coneRange')">
                    </div>
                </div>
            </div>
            <!-- Clock Direct -->
            <div class="grid grid-cols-2 mt-4 gap-2">
                <div class="col-span-1">
                    <div class="grid grid-cols-3 gap-2">
                        <div class="col-span-2">
                            Minimum Clock
                        </div>
                        <div class="col-span-1">
                            <input type="text" class="w-3/4 rounded-lg text-black text-center focus:ring-0 outline-0" id="minimumClock" value="0" onchange="updateValue(this.value,'minimumClock')"> 
                        </div>
                    </div>
                    <div class="w-full mt-2 pr-4">
                        <input type="range"class="w-full" name="rangeInput" min="0" max="360" value="0" id="inputminimumClock" onchange="updateValue(this.value,'minimumClock')">
                    </div>
                </div>
                <div class="col-span-1">
                    <div class="grid grid-cols-3 gap-2">
                        <div class="col-span-2">
                            Clock Range
                        </div>
                        <div class="col-span-1">
                            <input type="text" class="w-3/4 rounded-lg text-black text-center focus:ring-0 outline-0" id="clockRange" value="0" onchange="updateValue(this.value,'clockRange')"> 
                        </div>
                    </div>
                    <div class="w-full mt-2 pr-4">
                        <input type="range"class="w-full" name="rangeInput" min="0" max="360" value="0" id="inputclockRange" onchange="updateValue(this.value,'clockRange')">
                    </div>
                </div>
            </div>

            <!-- Radii paramets -->
            <div class="grid grid-cols-3 mt-4 gap-2">
                <div class="col-span-1">
                    <div class="grid grid-cols-3 gap-2">
                        <div class="col-span-1">
                            X
                        </div>
                        <div class="col-span-2">
                            <input type="text" class="w-3/4 rounded-lg text-black text-center focus:ring-0 outline-0" id="x" value="0" onchange="updateValue(this.value,'x')"> 
                        </div>
                    </div>
                    <div class="w-full mt-2 pr-4">
                        <input type="range"class="w-full" name="rangeInput" min="0" max="360" value="0" id="xRange" onchange="updateValue(this.value,'x')">
                    </div>
                </div>
                <div class="col-span-1">
                    <div class="grid grid-cols-3 gap-2">
                        <div class="col-span-1">
                            Y
                        </div>
                        <div class="col-span-2">
                            <input type="text" class="w-3/4 rounded-lg text-black text-center focus:ring-0 outline-0" id="y" value="0" onchange="updateValue(this.value,'y')"> 
                        </div>
                    </div>
                    <div class="w-full mt-2 pr-4">
                        <input type="range"class="w-full" name="rangeInput" min="0" max="360" value="0" id="yRange" onchange="updateValue(this.value,'y')">
                    </div>
                </div>
                <div class="col-span-1">
                    <div class="grid grid-cols-3 gap-2">
                        <div class="col-span-1">
                            Z
                        </div>
                        <div class="col-span-2">
                            <input type="text" class="w-3/4 rounded-lg text-black text-center focus:ring-0 outline-0" id="z" value="0" onchange="updateValue(this.value,'z')"> 
                        </div>
                    </div>
                    <div class="w-full mt-2 pr-4">
                        <input type="range"class="w-full" name="rangeInput" min="0" max="360" value="0" id="zRange" onchange="updateValue(this.value,'z')">
                    </div>
                </div>
            </div>

        </div>
    </div>
    
    <script type="text/javascript" src="../Common/init_environment.js"></script>
    <script type="text/javascript" src="./light.js"></script>


    <script>
        document.getElementById("minimumCone").value = cone_direct.min;
        document.getElementById("inputMinimumCone").value = cone_direct.min;

        document.getElementById("coneRange").value = cone_direct.range;
        document.getElementById("inputConeRange").value = cone_direct.range;

        document.getElementById("minimumClock").value = clock_direct.min;
        document.getElementById("inputminimumClock").value = clock_direct.min;

        document.getElementById("clockRange").value = clock_direct.range;
        document.getElementById("inputclockRange").value = clock_direct.range;

        document.getElementById("x").value = radii.x;
        document.getElementById("xRange").value = radii.x;

        document.getElementById("y").value = radii.y;
        document.getElementById("yRange").value = radii.y;

        document.getElementById("z").value = radii.z;
        document.getElementById("zRange").value = radii.z;

    </script>
    <script>
        function updateValue(value, param_name){
            console.log(value);
            console.log(param_name);
            document.getElementById(param_name).value = value;

            switch (param_name){
                case 'minimumCone':
                    cone_direct.min = Number(value);
                    break;
                case 'coneRange':
                    cone_direct.range = Number(value);
                    break;
                case 'minimumClock':
                    clock_direct.min = Number(value);
                    break;    
                case 'clockRange':
                    clock_direct.range = Number(value);
                    break;
                case 'x':
                    radii.x = Number(value);
                    break;
                case 'y':
                    radii.y = Number(value);
                    break;
                case 'z':
                    radii.z = Number(value);
                    break;
                default:
                    break;
            }
            //console.log(radii);
            //console.log(cone_direct);
            //console.log(clock_direct);
            update_parameter_for_model(light_bright);
        }
    </script>
</body>
</html>
